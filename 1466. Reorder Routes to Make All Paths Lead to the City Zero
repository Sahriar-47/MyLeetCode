class Pair {
    int node;
    int direction;
    Pair(int node, int direction) {
        this.node = node;
        this.direction = direction;
    }
}
class Solution {
    public int bfs(int root, int[] vis, List<List<Pair>> adj, Queue<Integer> q) {
        int cnt = 0;
        vis[root] = 1;
        q.add(root);
        
        while(!q.isEmpty()) {
            int node = q.peek();
            q.remove();
            for(Pair p : adj.get(node)) {
                int child = p.node;
                int dir = p.direction;
                if(vis[child] == 0) {
                    vis[child] = 1;
                    q.add(child);
                    cnt += dir;
                }
            }
        }
        return cnt;
    }

    public int minReorder(int n, int[][] connections) {
        List<List<Pair>> adj = new ArrayList<>();
        for(int i=0; i<n; i++) {
            adj.add(new ArrayList<>());
        }

        for(int[] con: connections) {
            adj.get(con[0]).add(new Pair(con[1], 1));
            adj.get(con[1]).add(new Pair(con[0], 0));
        }

        int[] vis = new int[n];
        Queue<Integer> q = new LinkedList<>();
        return bfs(0, vis, adj, q);
    }
}
